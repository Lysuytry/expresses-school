{"version":3,"sources":["../../../src/api/teacher/teacher.middleware.js"],"names":["Joi","objectId","createTeacherValidatorSchema","object","keys","first","string","required","last","gender","phone","alphanum","email","updateTeacherValidatorSchema","id","validateCreatingTeacher","req","res","next","body","error","validate","fail","message","validateUpdatingTeacher","params","validateQueryTeacher"],"mappings":";;;;;;;AAAA;;;;AACA;;;;;;AAEAA,cAAIC,QAAJ,GAAe,2BAASD,aAAT,CAAf;AACA;AACA,MAAME,+BAA+BF,cAAIG,MAAJ,GAAaC,IAAb,CAAkB;AACrDC,SAAOL,cAAIM,MAAJ,GAAaC,QAAb,EAD8C;AAErDC,QAAMR,cAAIM,MAAJ,GAAaC,QAAb,EAF+C;AAGrDE,UAAQT,cAAIM,MAAJ,GAAaC,QAAb,EAH6C;AAIrDG,SAAOV,cAAIM,MAAJ,GAAaK,QAAb,GAAwBJ,QAAxB,EAJ8C;AAKrDK,SAAOZ,cAAIM,MAAJ,GAAaM,KAAb,GAAqBL,QAArB;AAL8C,CAAlB,CAArC;;AAQA,MAAMM,+BAA+Bb,cAAIG,MAAJ,GAAaC,IAAb,CAAkB;AACrDU,MAAId,cAAIC,QAAJ,EADiD;AAErDI,SAAOL,cAAIM,MAAJ,EAF8C;AAGrDE,QAAMR,cAAIM,MAAJ,EAH+C;AAIrDG,UAAQT,cAAIM,MAAJ,EAJ6C;AAKrDI,SAAOV,cAAIM,MAAJ,GAAaK,QAAb,EAL8C;AAMrDC,SAAOZ,cAAIM,MAAJ,GAAaM,KAAb;AAN8C,CAAlB,CAArC;;AASO,MAAMG,4DAA0B,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzD,MAAG;AACD,UAAM,EAACb,KAAD,EAAQG,IAAR,EAAcI,KAAd,EAAqBF,KAArB,EAA4BD,MAA5B,KAAsCO,IAAIG,IAAhD;AACA,UAAM,EAAEC,KAAF,KAAYpB,cAAIqB,QAAJ,CAAa,EAAChB,KAAD,EAAQG,IAAR,EAAcI,KAAd,EAAqBF,KAArB,EAA4BD,MAA5B,EAAb,EAAkDP,4BAAlD,CAAlB;AACAkB,UAAMA,KAAN,KAAgB,IAAhB,GAAuBF,MAAvB,GAAgCD,IAAIK,IAAJ,CAASF,MAAMG,OAAf,CAAhC;AACD,GAJD,CAIE,OAAOH,KAAP,EAAc;AACdH,QAAIK,IAAJ,CAASF,MAAMG,OAAf;AACD;AACF,CARM;;AAUA,MAAMC,4DAA0B,CAACR,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACzD,MAAG;AACD,UAAM,EAACb,KAAD,EAAQG,IAAR,EAAcI,KAAd,EAAqBF,KAArB,EAA4BD,MAA5B,KAAsCO,IAAIG,IAAhD;AACA,UAAM,EAAEL,EAAF,KAASE,IAAIS,MAAnB;AACA,UAAM,EAAEL,KAAF,KAAYpB,cAAIqB,QAAJ,CAAa,EAAChB,KAAD,EAAQG,IAAR,EAAcI,KAAd,EAAqBF,KAArB,EAA4BD,MAA5B,EAAoCK,EAApC,EAAb,EAAsDD,4BAAtD,CAAlB;AACAO,UAAMA,KAAN,KAAgB,IAAhB,GAAuBF,MAAvB,GAAgCD,IAAIK,IAAJ,CAASF,MAAMG,OAAf,CAAhC;AACD,GALD,CAKE,OAAMH,KAAN,EAAY;AACZH,QAAIK,IAAJ,CAASF,MAAMG,OAAf;AACD;AACF,CATM;;AAWA,MAAMG,sDAAuB,CAACV,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACtD,MAAG;AACDA;AACD,GAFD,CAEE,OAAME,KAAN,EAAY;AACZH,QAAIK,IAAJ,CAASF,MAAMG,OAAf;AACD;AACF,CANM","file":"teacher.middleware.js","sourcesContent":["import Joi from 'joi';\nimport objectid from 'joi-objectid';\n\nJoi.objectId = objectid(Joi);\n// Validation methods\nconst createTeacherValidatorSchema = Joi.object().keys({\n  first: Joi.string().required(),\n  last: Joi.string().required(),\n  gender: Joi.string().required(),\n  phone: Joi.string().alphanum().required(),\n  email: Joi.string().email().required()\n});\n\nconst updateTeacherValidatorSchema = Joi.object().keys({\n  id: Joi.objectId(),\n  first: Joi.string(),\n  last: Joi.string(),\n  gender: Joi.string(),\n  phone: Joi.string().alphanum(),\n  email: Joi.string().email()\n});\n\nexport const validateCreatingTeacher = (req, res, next) => {\n  try{\n    const {first, last, email, phone, gender} = req.body;\n    const { error } = Joi.validate({first, last, email, phone, gender}, createTeacherValidatorSchema);\n    error.error === null ? next() : res.fail(error.message);\n  } catch( error ){\n    res.fail(error.message);\n  }\n};\n\nexport const validateUpdatingTeacher = (req, res, next) => {\n  try{\n    const {first, last, email, phone, gender} = req.body;\n    const { id } = req.params;\n    const { error } = Joi.validate({first, last, email, phone, gender, id}, updateTeacherValidatorSchema);\n    error.error === null ? next() : res.fail(error.message);\n  } catch(error){\n    res.fail(error.message);\n  }\n};\n\nexport const validateQueryTeacher = (req, res, next) => {\n  try{\n    next();\n  } catch(error){\n    res.fail(error.message);\n  }\n};\n"]}