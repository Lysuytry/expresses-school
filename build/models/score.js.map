{"version":3,"sources":["../../src/models/score.js"],"names":["scoreSchema","exam","type","String","required","student","Schema","Types","ObjectId","ref","result","_id","subject","subjectName","score","Number","default","max","min","status","timestamps","index","mongoose","model"],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAMA,cAAc,sBAAO;AACzBC,QAAM,EAACC,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EADmB;AAEzBC,WAAS,EAACH,MAAMI,iBAAOC,KAAP,CAAaC,QAApB,EAA8BC,KAAK,SAAnC,EAA8CL,UAAU,IAAxD,EAFgB;AAGzBM,UAAQ,CACN;AACEC,SAAK,KADP;AAEEC,aAAS,EAACV,MAAMI,iBAAOC,KAAP,CAAaC,QAApB,EAA8BC,KAAK,SAAnC,EAA8CL,UAAU,IAAxD,EAFX;AAGES,iBAAa,EAACX,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EAHf;AAIEU,WAAO,EAACZ,MAAMa,MAAP,EAAeC,SAAS,CAAxB,EAA2BC,KAAK,GAAhC,EAAqCC,KAAK,CAA1C;AAJT,GADM,CAHiB;AAWzBC,UAAQ,EAACjB,MAAMC,MAAP,EAAea,SAAS,QAAxB;AAXiB,CAAP,EAYjB,EAACI,YAAY,IAAb,EAZiB,CAApB;;AAcApB,YAAYqB,KAAZ,CAAkB,EAAC,WAAW,CAAZ,EAAe,QAAQ,CAAvB,EAAlB,EAA6C,EAAC,UAAU,IAAX,EAA7C;;AAEA;AACA;AACA;;kBAEeC,mBAASC,KAAT,CAAe,OAAf,EAAwBvB,WAAxB,C","file":"score.js","sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst scoreSchema = Schema({\n  exam: {type: String, required: true},\n  student: {type: Schema.Types.ObjectId, ref: 'Student', required: true},\n  result: [\n    {\n      _id: false,\n      subject: {type: Schema.Types.ObjectId, ref: 'Subject', required: true},\n      subjectName: {type: String, required: true},\n      score: {type: Number, default: 0, max: 101, min: 0}\n    }\n  ],\n  status: {type: String, default: 'active'}\n}, {timestamps: true});\n\nscoreSchema.index({'student': 1, 'exam': 1}, {'unique': true});\n\n// scoreSchema.virtual('total').get( function () {\n//   return this.result.score\n// });\n\nexport default mongoose.model('Score', scoreSchema);\n\n"]}